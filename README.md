# ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะตัะตะฝะทะธัะพะฒะฐะฝะธั ะฝะฐััะฝัั ััะฐัะตะน (ะะตะนะทะปะฐะนะฝ)

๐ค ะะฐะทะพะฒัะน ะฟะฐะนะฟะปะฐะนะฝ ะผัะปััะธะฐะณะตะฝัะฝะพะน ัะธััะตะผั ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะฐะฝะฐะปะธะทะฐ ะธ ัะตัะตะฝะทะธัะพะฒะฐะฝะธั ะฝะฐััะฝัั ััะฐัะตะน.

## ๐ ะะฟะธัะฐะฝะธะต

ะกะธััะตะผะฐ ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน ะฑะตะนะทะปะฐะนะฝ ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะตัะตะฝะทะธัะพะฒะฐะฝะธั ะฝะฐััะฝัั ััะฐัะตะน ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ:
- **Telegram Bot** ะบะฐะบ ะธะฝัะตััะตะนั ะฒะทะฐะธะผะพะดะตะนััะฒะธั
- **Structure Agent** ะดะปั ะฐะฝะฐะปะธะทะฐ ััััะบัััั ััะฐัะตะน
- **Orchestrator** ะฝะฐ ะฑะฐะทะต Llama-3.2-3B ะดะปั ะบะพะพัะดะธะฝะฐัะธะธ ะธ ะณะตะฝะตัะฐัะธะธ ัะธะฝะฐะปัะฝัั ัะตัะตะฝะทะธะน

## ๐ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ
โ  Telegram Bot   โ
โ   (aiogram)     โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
โโโโโโโโโโผโโโโโโโโโ
โ  PDF Extractor  โ
โ   (PyMuPDF)     โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
โโโโโโโโโโผโโโโโโโโโ
โ  Orchestrator   โ
โ (Llama-3.2-3B)  โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
โโโโโโโโโโผโโโโโโโโโ
โ Structure Agent โ
โ(Rule-based/ML)  โ
โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

### ะขะตะบััะธะต ะฒะพะทะผะพะถะฝะพััะธ
- โ ะะฝะฐะปะธะท ััััะบัััั ะฝะฐััะฝัั ััะฐัะตะน
- โ ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั ะพะฑัะทะฐัะตะปัะฝัั ัะฐะทะดะตะปะพะฒ
- โ ะัะตะฝะบะฐ ะบะฐัะตััะฒะฐ ะพัะณะฐะฝะธะทะฐัะธะธ ัะตะบััะฐ
- โ ะะฒัะพะผะฐัะธัะตัะบะฐั ะณะตะฝะตัะฐัะธั ััััะบัััะธัะพะฒะฐะฝะฝัั ัะตัะตะฝะทะธะน
- โ ะะพะดะดะตัะถะบะฐ ััััะบะพะณะพ ะธ ะฐะฝะณะปะธะนัะบะพะณะพ ัะทัะบะพะฒ
- โ Telegram ะธะฝัะตััะตะนั ั ะฟัะพะณัะตััะพะผ ะพะฑัะฐะฑะพัะบะธ

### ะ ัะฐะทัะฐะฑะพัะบะต
- ๐ ะะฝะฐะปะธะท ัะพะดะตัะถะฐะฝะธั ะธ ะผะตัะพะดะพะปะพะณะธะธ
- ๐ ะัะพะฒะตัะบะฐ ัะธัะธัะพะฒะฐะฝะธั ะธ ัััะปะพะบ  
- ๐ ะัะตะฝะบะฐ ะฝะพะฒะธะทะฝั ะธััะปะตะดะพะฒะฐะฝะธั
- ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะฐะณะตะฝัั ะฐะฝะฐะปะธะทะฐ

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
review-system/
โโโ bot/                    # Telegram bot
โ   โโโ __init__.py
โ   โโโ handlers.py        # ะะฑัะฐะฑะพััะธะบะธ ัะพะพะฑัะตะฝะธะน
โ   โโโ keyboards.py       # ะะปะฐะฒะธะฐัััั
โ   โโโ config.py          # ะะพะฝัะธะณััะฐัะธั
โโโ core/                  # ะฏะดัะพ ัะธััะตะผั
โ   โโโ __init__.py
โ   โโโ pdf_extractor.py   # ะะทะฒะปะตัะตะฝะธะต ัะตะบััะฐ ะธะท PDF
โ   โโโ orchestrator.py    # ะะพะพัะดะธะฝะฐัะพั ะฐะณะตะฝัะพะฒ
โ   โโโ agents/           # ะะณะตะฝัั ะฐะฝะฐะปะธะทะฐ
โ       โโโ __init__.py
โ       โโโ base_agent.py  # ะะฐะทะพะฒัะน ะบะปะฐัั ะฐะณะตะฝัะฐ
โ       โโโ structure_agent.py # ะะณะตะฝั ะฐะฝะฐะปะธะทะฐ ััััะบัััั
โโโ utils/                 # ะฃัะธะปะธัั
โ   โโโ __init__.py
โ   โโโ formatters.py     # ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ
โโโ ะฑะตะนะทะปะฐะนะฝ/
โ   โโโ main.py           # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ requirements.txt       # Python ะทะฐะฒะธัะธะผะพััะธ
โโโ docker-compose.yml    # Docker ะบะพะฝัะธะณััะฐัะธั
โโโ Dockerfile           # Docker ะพะฑัะฐะท
โโโ README.md           # ะะพะบัะผะตะฝัะฐัะธั
```

## ๐ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### ะะฐัะธะฐะฝั 1: ะะพะบะฐะปัะฝะฐั ัััะฐะฝะพะฒะบะฐ

#### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ะธ ัััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
git clone <repository-url>
cd review-system
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ะธะปะธ
venv\Scripts\activate     # Windows

pip install -r requirements.txt
```

#### 2. ะฃััะฐะฝะพะฒะบะฐ Ollama

ะกะบะฐัะฐะนัะต ั [ollama.com](https://ollama.com)

#### 3. ะะฐะณััะทะบะฐ ะผะพะดะตะปะธ

```bash
ollama pull llama3.2:3b
```

#### 4. ะะฐะฟััะบ

```bash
python3 main.py
```

### ะะฐัะธะฐะฝั 2: Docker


#### 1. ะะฐะฟััะบ

```bash
docker-compose up -d
```

#### 2. ะะฐะณััะทะบะฐ ะผะพะดะตะปะธ ะฒ ะบะพะฝัะตะนะฝะตั

```bash
docker exec -it ollama-service ollama pull llama3.2:3b
```

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `BOT_TOKEN` | ะขะพะบะตะฝ Telegram ะฑะพัะฐ | **ะะฑัะทะฐัะตะปัะฝะพ** |
| `LOG_LEVEL` | ะฃัะพะฒะตะฝั ะปะพะณะธัะพะฒะฐะฝะธั | `INFO` |
| `ORCHESTRATOR_MODEL` | ะะพะดะตะปั ะพัะบะตัััะฐัะพัะฐ | `llama3.2:3b` |
| `STRUCTURE_MODEL` | ะะพะดะตะปั ะฐะฝะฐะปะธะทะฐ ััััะบัััั | `allenai/scibert_scivocab_uncased` |
| `MAX_FILE_SIZE` | ะะฐะบัะธะผะฐะปัะฝัะน ัะฐะทะผะตั ัะฐะนะปะฐ (ะฑะฐะนัั) | `10485760` (10MB) |
| `MAX_PROCESSING_TIME` | ะะฐะบัะธะผะฐะปัะฝะพะต ะฒัะตะผั ะพะฑัะฐะฑะพัะบะธ (ัะตะบ) | `120` |


## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะงะตัะตะท Telegram ะฑะพัะฐ

1. ะะฐัะพะดะธะผ @arcticle_reviewer_bot
2. ะัะฟัะฐะฒััะต `/start`
3. ะะฐะถะผะธัะต "๐ ะะฐะณััะทะธัั ััะฐััั"
4. ะัะฟัะฐะฒััะต PDF ัะฐะนะป
5. ะะพะถะดะธัะตัั ัะตะทัะปััะฐัะฐ ะฐะฝะฐะปะธะทะฐ

### ะขัะตะฑะพะฒะฐะฝะธั ะบ ัะฐะนะปะฐะผ

- **ะคะพัะผะฐั:** PDF
- **ะะฐะทะผะตั:** ะดะพ 10 ะะ
- **ะฏะทัะบ:** ััััะบะธะน ะธะปะธ ะฐะฝะณะปะธะนัะบะธะน
- **ะกะพะดะตัะถะฐะฝะธะต:** ะผะฐัะธะฝะพัะธัะฐะตะผัะน ัะตะบัั

## ๐ง ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะะณะตะฝัั

#### Structure Agent
- **ะะฐะทะฝะฐัะตะฝะธะต:** ะะฝะฐะปะธะท ััััะบัััั ะฝะฐััะฝัั ััะฐัะตะน
- **ะะตัะพะดั:** Rule-based ะฟะพะธัะบ ัะฐะทะดะตะปะพะฒ + ัะฒัะธััะธะบะธ
- **ะัะพะฒะตััะตะผัะต ัะฐะทะดะตะปั:** Abstract, Introduction, Methodology, Results, Discussion, Conclusion, References
- **ะะตััะธะบะธ:** ะะพะปะฝะพัะฐ ััััะบัััั, ะบะฐัะตััะฒะพ ะพัะณะฐะฝะธะทะฐัะธะธ

### ะะพะดะตะปะธ

#### Orchestrator (Llama-3.2-3B)
- **ะะพะปั:** ะะพะพัะดะธะฝะฐัะธั ะฐะณะตะฝัะพะฒ ะธ ะณะตะฝะตัะฐัะธั ัะธะฝะฐะปัะฝะพะน ัะตัะตะฝะทะธะธ
- **ะะฐัััะพะนะบะธ:** Temperature=0.7, Top-p=0.9, Max-tokens=1000
- **Fallback:** Rule-based ะณะตะฝะตัะฐัะธั ะฟัะธ ะฝะตะดะพัััะฟะฝะพััะธ ะผะพะดะตะปะธ

#### PDF Extractor (PyMuPDF)
- **ะคัะฝะบัะธะธ:** ะะทะฒะปะตัะตะฝะธะต ัะตะบััะฐ, ะผะตัะฐะดะฐะฝะฝัั
- **ะะฑัะฐะฑะพัะบะฐ:** ะัะธััะบะฐ ัะตะบััะฐ, ัะพััะฐะฝะตะฝะธะต ััััะบัััั
- **Fallback:** OCR ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

ััั ะณะฐะปัะฝั ะถะตััะบะธะต, ัะท ะพัะบัะดะฐ ะพะฝ ััะพ ะฒะทัะป 
- **ะัะตะผั ะพะฑัะฐะฑะพัะบะธ:** 30-120 ัะตะบัะฝะด
- **ะะฐัะฐะปะปะตะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ:** ะดะพ 5 ัะฐะนะปะพะฒ
- **ะขะพัะฝะพััั ััััะบัััะฝะพะณะพ ะฐะฝะฐะปะธะทะฐ:** ~80%
- **ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะฐะนะปั:** ะดะพ 50 ัััะฐะฝะธั


## ๐ ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต

ะกะธััะตะผะฐ ัะฟัะพะตะบัะธัะพะฒะฐะฝะฐ ะดะปั ะปะตะณะบะพะณะพ ะดะพะฑะฐะฒะปะตะฝะธั ะฝะพะฒัั ะฐะณะตะฝัะพะฒ:

```python
# ะัะธะผะตั ะดะพะฑะฐะฒะปะตะฝะธั ะฝะพะฒะพะณะพ ะฐะณะตะฝัะฐ
from core.agents.new_agent import NewAgent

new_agent = NewAgent()
orchestrator.register_agent("NewAgent", new_agent)
```

### ะะปะฐะฝะธััะตะผัะต ะฐะณะตะฝัั
- **Content Agent** - ะฐะฝะฐะปะธะท ัะพะดะตัะถะฐะฝะธั
- **Citation Agent** - ะฟัะพะฒะตัะบะฐ ัะธัะธัะพะฒะฐะฝะธะน
- **Novelty Agent** - ะพัะตะฝะบะฐ ะฝะพะฒะธะทะฝั
- **Language Agent** - ะฟัะพะฒะตัะบะฐ ัะทัะบะฐ ะธ ััะธะปั

## ๐ ะัะปะฐะดะบะฐ

### ะัะพะฒะตัะบะฐ ะปะพะณะพะฒ

```bash
tail -f bot.log
```

### ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ Ollama

```bash
curl http://localhost:11434/api/tags
```

### ะะฐะฟััะบ ะฑะพัะฐ

```bash
python3 main.p
```

### ะขะตััะธัะพะฒะฐะฝะธะต ะบะพะผะฟะพะฝะตะฝัะพะฒ

```bash
python3 test_system.py
```

ะตัะต ะฟัะตะดะปะฐะณะฐัั ัะฐะบะพะน ัะฟะพัะพะฑ:

```python
from core.orchestrator import Orchestrator

orchestrator = Orchestrator()
health = await orchestrator.health_check()
print(health)
```

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ะฐะณะตะฝัะฐ

1. ะกะพะทะดะฐะนัะต ะบะปะฐัั, ะฝะฐัะปะตะดัััะธะน ะพั `BaseAgent`
2. ะะตะฐะปะธะทัะนัะต ะผะตัะพะดั `analyze()` ะธ `get_prompt_template()`
3. ะะฐัะตะณะธัััะธััะนัะต ะฐะณะตะฝัะฐ ะฒ ะพัะบะตัััะฐัะพัะต
4. ะะฑะฝะพะฒะธัะต ัะพัะผะฐัะธัะพะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ

## ๐ ะะธัะตะฝะทะธั

MIT License

## ๐ฅ ะะฒัะพัั

ะะฐะทัะฐะฑะพัะฐะฝะพ ะบะฐะบ ะฑะฐะทะพะฒัะน ะฟะฐะนะฟะปะฐะนะฝ ะดะปั ัะธััะตะผั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะตัะตะฝะทะธัะพะฒะฐะฝะธั ะฝะฐััะฝัั ััะฐัะตะน.

---

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:
better call saul
