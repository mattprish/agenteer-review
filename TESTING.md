# üß™ –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è Telegram –±–æ—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞—É—á–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π.

## üìã –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

1. **üè† –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã** (`test_local.py`) - –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. **üî¨ Unit —Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. **üîó Integration —Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. **üöÄ Deployment —Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ø–ª–æ—è –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
5. **üéØ End-to-End —Ç–µ—Å—Ç—ã** - –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
6. **üÜï –¢–µ—Å—Ç—ã –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤** (`test_new_agent.py`) - –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
üìÅ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/
‚îú‚îÄ‚îÄ test_local.py              # –ë—ã—Å—Ç—Ä—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ test_deployment.py         # –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ test_new_agent.py          # –¢–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ update_deployment.sh       # –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .pre-commit-config.yaml    # Pre-commit hooks
‚îú‚îÄ‚îÄ .github/workflows/         # CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã
‚îî‚îÄ‚îÄ TESTING.md                 # –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
```

## üèÉ‚Äç‚ôÇÔ∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
python test_local.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
python test_new_agent.py

# –ü–æ–ª–Ω–æ–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python test_deployment.py --quick
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ø–ª–æ—è

```bash
# –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–µ–ø–ª–æ—è
python test_deployment.py

# –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã
python test_deployment.py --unit-only

# –¢–æ–ª—å–∫–æ deployment —Ç–µ—Å—Ç—ã
python test_deployment.py --deployment-only
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –í–ú

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./update_deployment.sh

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –±–æ—Ç–∞
./update_deployment.sh bot-only

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –ø–æ–ª–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏
./update_deployment.sh full-test
```

## üìñ –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

### 1. –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (`test_local.py`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:**
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
python test_local.py

# –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~10-30 —Å–µ–∫—É–Ω–¥
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üè† –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
==================================================
‚úÖ Core imports
‚úÖ Configuration
‚úÖ File structure
‚úÖ Dependencies
‚úÖ PDF extractor basic
‚úÖ Structure agent basic
‚úÖ Orchestrator basic
‚úÖ Bot handlers import
‚úÖ LLM service import

==================================================
üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –õ–û–ö–ê–õ–¨–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø
==================================================
‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã: 9/9 –∑–∞ 15.23s
üéâ –ö–æ–¥ –≥–æ—Ç–æ–≤ –¥–ª—è –∫–æ–º–º–∏—Ç–∞!
==================================================
```

### 2. –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (`test_deployment.py`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:**

#### Unit —Ç–µ—Å—Ç—ã:
- –ò–º–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π
- PDF —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä
- –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∞–≥–µ–Ω—Ç
- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

#### Integration —Ç–µ—Å—Ç—ã:
- –ü–∞–π–ø–ª–∞–π–Ω –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- Health checks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### Deployment —Ç–µ—Å—Ç—ã:
- –°–æ—Å—Ç–æ—è–Ω–∏–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å LLM —Å–µ—Ä–≤–∏—Å–∞
- API endpoints
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

#### End-to-End —Ç–µ—Å—Ç—ã:
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—É—á–Ω–æ–π —Å—Ç–∞—Ç—å–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ü–µ–Ω–∑–∏–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
python test_deployment.py

# –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã
python test_deployment.py --unit-only

# –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (–±–µ–∑ deployment/E2E)
python test_deployment.py --quick

# –¢–æ–ª—å–∫–æ deployment —Ç–µ—Å—Ç—ã
python test_deployment.py --deployment-only
```

### 3. –¢–µ—Å—Ç—ã –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤ (`test_new_agent.py`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:**
- ‚úÖ –ò–º–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π –∞–≥–µ–Ω—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –º–µ—Ç–æ–¥–∞ `analyze`
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–µ
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã
python test_new_agent.py
```

**–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞:**
```bash
# 1. –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –∞–≥–µ–Ω—Ç
touch core/agents/citation_agent.py

# 2. –†–µ–∞–ª–∏–∑—É–µ–º –∞–≥–µ–Ω—Ç–∞
cat > core/agents/citation_agent.py << 'EOF'
from .base_agent import BaseAgent

class CitationAgent(BaseAgent):
    async def analyze(self, text, metadata):
        # –õ–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–π
        return {"citations_count": 10, "quality": "good"}
EOF

# 3. –¢–µ—Å—Ç–∏—Ä—É–µ–º
python test_new_agent.py

# 4. –û–±–Ω–æ–≤–ª—è–µ–º –¥–µ–ø–ª–æ–π
./update_deployment.sh bot-only
```

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (`update_deployment.sh`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Ç–∫–∞—Ç–æ–º

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üîÑ –°–æ–∑–¥–∞–Ω–∏–µ backup –æ–±—Ä–∞–∑–æ–≤
- üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ Git
- üèóÔ∏è –°–±–æ—Ä–∫–∞ –∏ push –æ–±—Ä–∞–∑–æ–≤
- üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- üîç Health checks
- üß™ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚Ü©Ô∏è –û—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:**
```bash
./update_deployment.sh              # –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./update_deployment.sh bot-only     # –¢–æ–ª—å–∫–æ –±–æ—Ç
./update_deployment.sh llm-only     # –¢–æ–ª—å–∫–æ LLM —Å–µ—Ä–≤–∏—Å
./update_deployment.sh full-test    # –° –ø–æ–ª–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏
```

## üîÑ CI/CD –ø–∞–π–ø–ª–∞–π–Ω

### GitHub Actions (`.github/workflows/test-and-deploy.yml`)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞–π–ø–ª–∞–π–Ω –≤–∫–ª—é—á–∞–µ—Ç:

1. **üî¨ Unit & Integration Tests**
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
   - Unit —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

2. **üê≥ Docker Build Test**
   - –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

3. **üîó Integration Test with Docker**
   - –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Docker Compose
   - Health checks
   - Integration —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

4. **üÜï New Agents Test**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

5. **üöÄ Deploy to Production**
   - –°–±–æ—Ä–∫–∞ –∏ push –≤ Registry
   - –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π

6. **üì¢ Notification**
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

### Triggers

- **Push –≤ main/develop:** –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω
- **Pull Request:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –¥–µ–ø–ª–æ—è
- **Manual:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

## üîß Pre-commit hooks

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit
pip install pre-commit

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ hooks
pre-commit install

# –ó–∞–ø—É—Å–∫ –Ω–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö
pre-commit run --all-files
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** black, isort
- **–õ–∏–Ω—Ç–∏–Ω–≥:** flake8
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** bandit
- **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:** —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- **–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫
- **Docker syntax:** –ø—Ä–æ–≤–µ—Ä–∫–∞ Dockerfile

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### Health Checks

```bash
# LLM —Å–µ—Ä–≤–∏—Å
curl http://localhost:8000/health

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose -f docker-compose.production.yml ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats
```

### –õ–æ–≥–∏

```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞
docker-compose -f docker-compose.production.yml logs -f telegram-bot

# –õ–æ–≥–∏ LLM —Å–µ—Ä–≤–∏—Å–∞
docker-compose -f docker-compose.production.yml logs -f llm-service

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
docker-compose -f docker-compose.production.yml logs | grep -i error
```

## üö® Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –¢–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python test_local.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
python -c "from core.orchestrator import Orchestrator; print('OK')"
```

#### 2. Docker —Ç–µ—Å—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
docker --version
docker-compose --version

# –û—á–∏—Å—Ç–∫–∞
docker system prune -f

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker build --no-cache -t test-bot -f Dockerfile.bot .
```

#### 3. LLM —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tulpn | grep :8000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Ollama
docker exec -it llm-service ollama list

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart llm-service
```

#### 4. –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
ls -la core/agents/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞—Å—Å–∞
python -c "from core.agents.your_agent import YourAgent; print('OK')"

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python test_new_agent.py
```

### –û—Ç–∫–∞—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç –≤ update_deployment.sh
# –ò–ª–∏ —Ä—É—á–Ω–æ–π –æ—Ç–∫–∞—Ç:

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.production.yml down

# –í–æ–∑–≤—Ä–∞—Ç –∫ backup –æ–±—Ä–∞–∑–∞–º
docker tag cr.yandex/crphvdf8t7v4bpqnv3g5/telegram-bot:backup-TIMESTAMP cr.yandex/crphvdf8t7v4bpqnv3g5/telegram-bot:latest

# –ó–∞–ø—É—Å–∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
docker-compose -f docker-compose.production.yml up -d
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞

```bash
# 1. –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞
mkdir -p core/agents
cat > core/agents/quality_agent.py << 'EOF'
from .base_agent import BaseAgent

class QualityAgent(BaseAgent):
    async def analyze(self, text, metadata):
        # –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —Å—Ç–∞—Ç—å–∏
        return {
            "clarity_score": 0.85,
            "completeness_score": 0.90,
            "recommendations": ["Improve introduction", "Add more examples"]
        }
EOF

# 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python test_new_agent.py

# 3. –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
python test_local.py

# 4. –ö–æ–º–º–∏—Ç (—Å pre-commit hooks)
git add core/agents/quality_agent.py
git commit -m "Add QualityAgent for paper quality analysis"

# 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è
./update_deployment.sh bot-only
```

### –ü—Ä–∏–º–µ—Ä 2: –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

```bash
# 1. –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
python test_local.py

# 2. –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
python test_deployment.py

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
python -c "
from core.agents.structure_agent import StructureAgent
import asyncio

async def test():
    agent = StructureAgent()
    result = await agent.analyze('test', {})
    print(result)

asyncio.run(test())
"

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è
curl http://localhost:8000/health
docker-compose ps
```

### –ü—Ä–∏–º–µ—Ä 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

```bash
# 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ requirements.txt
echo "new-package==1.0.0" >> requirements.txt

# 2. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
pip install -r requirements.txt
python test_local.py

# 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
./update_deployment.sh full-test

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
python test_deployment.py --deployment-only
```

## üéØ Best Practices

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã** –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pre-commit hooks** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã** –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
4. **–ü–∏—à–∏—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ commit —Å–æ–æ–±—â–µ–Ω–∏—è**
5. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –î–ª—è –¥–µ–ø–ª–æ—è

1. **–í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ backup** –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ health checks** –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏** –∏ –ª–æ–≥–∏
5. **–ë—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã –∫ –æ—Ç–∫–∞—Ç—É** –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Ç–µ—Å—Ç–æ–≤** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã** –¥–ª—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. **–ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã** —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ —Ä–µ–ª–∏–∑–∞–º–∏
4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** —á–µ—Ä–µ–∑ CI/CD
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã** –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ troubleshooting** —Å–µ–∫—Ü–∏—é —ç—Ç–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É** —Å –ø–æ–º–æ—â—å—é —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
4. **–°–¥–µ–ª–∞–π—Ç–µ –æ—Ç–∫–∞—Ç** –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
5. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∑–∞ –ø–æ–º–æ—â—å—é** —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

**üéâ –£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è!** 